/*! For license information please see 11.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"86":function(e,t,a){"use strict";a.r(t),a.d(t,"taro_tabbar",(function(){return f}));var r=a(8),n=a(7),o=a(2),i=a(4),s=a(28),b=a(92);function isAbsolute(e){return"/"===e.charAt(0)}function spliceOne(e,t){for(var a=t,r=a+1,n=e.length;r<n;a+=1,r+=1)e[a]=e[r];e.pop()}var l=function splitUrl(e){var t,a=e||"",r={"path":null,"query":null,"fragment":null};return(t=a.indexOf("#"))>-1&&(r.fragment=a.substring(t+1),a=a.substring(0,t)),(t=a.indexOf("?"))>-1&&(r.query=a.substring(t+1),a=a.substring(0,t)),r.path=a,r},c=function TabbarItem(e){var t=e.index,a=e.isSelected,r=void 0!==a&&a,n=e.textColor,o=e.iconPath,i=e.badgeText,l=e.showRedDot,c=void 0!==l&&l,d=e.text,h=e.onSelect,u=Object(b.a)("weui-tabbar__item",{"weui-bar__item_on":r});return Object(s.e)("a",{"key":t,"href":"javascript:;","class":u,"onClick":function onClick(){h(t)}},Object(s.e)("span",{"style":{"display":"inline-block","position":"relative"}},Object(s.e)("img",{"src":o,"alt":"","class":"weui-tabbar__icon"}),!!i&&Object(s.e)("span",{"class":"weui-badge taro-tabbar-badge","style":{"position":"absolute","top":"-2px","right":"-13px"}},i),c&&Object(s.e)("span",{"class":"weui-badge weui-badge_dot","style":{"position":"absolute","top":"0","right":"-6px"}})),Object(s.e)("p",{"class":"weui-tabbar__label","style":{"color":n}},d))},d=a(31),h=function addLeadingSlash(e){return"/"===e[0]?e:"/".concat(e)},u=function stripBasename(e,t){return function hasBasename(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)}(e,t)?e.substr(t.length):e},f=function(){function Tabbar(e){var t=this;Object(o.a)(this,Tabbar),Object(s.g)(this,e),this.onLongPress=Object(s.c)(this,"longpress",7),this.homePage="",this.customRoutes=[],this.tabbarPos="bottom",this.selectedIndex=-1,this.status=0,this.getOriginUrl=function(e){var a=t.customRoutes.filter((function(t){var a=Object(n.a)(t,2)[1];return l(a).path===l(e).path}));return a.length?a[0][0]:e},this.getSelectedIndex=function(e){var a=-1;return t.list.forEach((function(t,r){var n=t.pagePath;l(e).path===l(n).path&&(a=r)})),a},this.switchTab=function(e){t.selectedIndex=e,d.navigateTo({"url":t.list[e].pagePath})},this.switchTabHandler=function(e){var a=e.url,r=e.successHandler,n=e.errorHandler,o=function resolvePathname(e,t){void 0===t&&(t="");var a,r=e&&e.split("/")||[],n=t&&t.split("/")||[],o=e&&isAbsolute(e),i=t&&isAbsolute(t),s=o||i;if(e&&isAbsolute(e)?n=r:r.length&&(n.pop(),n=n.concat(r)),!n.length)return"/";if(n.length){var b=n[n.length-1];a="."===b||".."===b||""===b}else a=!1;for(var l=0,c=n.length;c>=0;c--){var d=n[c];"."===d?spliceOne(n,c):".."===d?(spliceOne(n,c),l++):l&&(spliceOne(n,c),l--)}if(!s)for(;l--;l)n.unshift("..");!s||""===n[0]||n[0]&&isAbsolute(n[0])||n.unshift("");var h=n.join("/");return a&&"/"!==h.substr(-1)&&(h+="/"),h}(a,t.getOriginUrl(t.getCurrentUrl()||t.homePage)),i=t.getSelectedIndex(o);i>-1?(t.switchTab(i),r({"errMsg":"switchTab:ok"})):n({"errMsg":'switchTab:fail page "'.concat(o,'" is not found')})},this.routerChangeHandler=function(e){var a,r;if(e&&(a=e.toLocation),a&&a.path){var n=h(a.path);r="/"===n?t.homePage:n}else r=t.getCurrentUrl();t.selectedIndex=t.getSelectedIndex(t.getOriginUrl(r))},this.setTabBarBadgeHandler=function(e){var a=e.index,r=e.text,n=e.errorHandler;a in t.list?(t.list[a].showRedDot=!1,t.list[a].badgeText=r):n({"errMsg":"setTabBarBadge:fail tabbar item not found"})},this.removeTabBarBadgeHandler=function(e){var a=e.index,r=e.successHandler,n=e.errorHandler;a in t.list?(t.list[a].badgeText=null,t.list[a].badgeText=null,r({"errMsg":"removeTabBarBadge:ok"})):n({"errMsg":"removeTabBarBadge:fail tabbar item not found"})},this.showTabBarRedDotHandler=function(e){var a=e.index,r=e.successHandler,n=e.errorHandler,o=t.list;a in o?(o[a].badgeText=null,o[a].showRedDot=!0,r({"errMsg":"showTabBarRedDot:ok"})):n({"errMsg":"showTabBarRedDot:fail tabbar item not found"})},this.hideTabBarRedDotHandler=function(e){var a=e.index,r=e.successHandler,n=e.errorHandler,o=t.list;a in o?(o[a].showRedDot=!1,r({"errMsg":"hideTabBarRedDot:ok"})):n({"errMsg":"hideTabBarRedDot:fail tabbar item not found"})},this.showTabBarHandler=function(e){var a=e.successHandler;t.status=0,a({"errMsg":"showTabBar:ok"})},this.hideTabBarHandler=function(e){var a=e.animation,r=e.successHandler;t.status=a?2:1,r({"errMsg":"hideTabBar:ok"})};var a=this.conf.list,r=this.conf.customRoutes;if("[object Array]"!==Object.prototype.toString.call(a)||a.length<2||a.length>5)throw new Error("tabBar 配置错误");for(var i in this.homePage=h(this.conf.homePage),r)this.customRoutes.push([i,r[i]]);a.forEach((function(e){0!==e.pagePath.indexOf("/")&&(e.pagePath="/"+e.pagePath)})),this.list=a}return Object(i.a)(Tabbar,[{"key":"getCurrentUrl","value":function getCurrentUrl(){var e,t=this.conf.mode,a=this.conf.basename||"/";if("hash"===t){var r=window.location.href,n=r.indexOf("#");e=-1===n?"":r.substring(n+1)}else e=location.pathname;var o=h(u(e,a));return"/"===o?this.homePage:o}},{"key":"bindEvent","value":function bindEvent(){d.eventCenter.on("__taroRouterChange",this.routerChangeHandler),d.eventCenter.on("__taroSwitchTab",this.switchTabHandler),d.eventCenter.on("__taroSetTabBarBadge",this.setTabBarBadgeHandler),d.eventCenter.on("__taroRemoveTabBarBadge",this.removeTabBarBadgeHandler),d.eventCenter.on("__taroShowTabBarRedDotHandler",this.showTabBarRedDotHandler),d.eventCenter.on("__taroHideTabBarRedDotHandler",this.hideTabBarRedDotHandler),d.eventCenter.on("__taroShowTabBar",this.showTabBarHandler),d.eventCenter.on("__taroHideTabBar",this.hideTabBarHandler)}},{"key":"removeEvent","value":function removeEvent(){d.eventCenter.off("__taroRouterChange",this.routerChangeHandler),d.eventCenter.off("__taroSwitchTab",this.switchTabHandler),d.eventCenter.off("__taroSetTabBarBadge",this.setTabBarBadgeHandler),d.eventCenter.off("__taroRemoveTabBarBadge",this.removeTabBarBadgeHandler),d.eventCenter.off("__taroShowTabBarRedDotHandler",this.showTabBarRedDotHandler),d.eventCenter.off("__taroHideTabBarRedDotHandler",this.hideTabBarRedDotHandler),d.eventCenter.off("__taroShowTabBar",this.showTabBarHandler),d.eventCenter.off("__taroHideTabBar",this.hideTabBarHandler)}},{"key":"componentDidLoad","value":function componentDidLoad(){this.tabbarPos=this.tabbar.nextElementSibling?"top":"bottom",this.bindEvent(),this.routerChangeHandler()}},{"key":"disconnectedCallback","value":function disconnectedCallback(){this.removeEvent()}},{"key":"render","value":function render(){var e,t=this,a=this.conf,n=this.tabbarPos,o=void 0===n?"bottom":n,i=this.status,l=Object(b.a)("weui-tabbar",Object(r.a)({},"taro-tabbar__border-".concat(a.borderStyle||"black"),!0)),d=-1===this.selectedIndex||1===i,h=2===i;return Object(s.e)(s.a,{"class":Object(b.a)("taro-tabbar__tabbar","".concat("taro-tabbar__tabbar","-").concat(o),(e={},Object(r.a)(e,"taro-tabbar__tabbar-hide",d),Object(r.a)(e,"taro-tabbar__tabbar-slideout",h),e))},Object(s.e)("div",{"class":l,"style":{"backgroundColor":a.backgroundColor||""}},this.list.map((function(e,r){var n,o,i=t.selectedIndex===r;return i?(n=a.selectedColor,o=e.selectedIconPath):(n=a.color||"",o=e.iconPath),Object(s.e)(c,{"index":r,"onSelect":t.switchTab.bind(t),"isSelected":i,"textColor":n,"iconPath":o,"text":e.text,"badgeText":e.badgeText,"showRedDot":e.showRedDot})}))))}},{"key":"tabbar","get":function get(){return Object(s.d)(this)}}]),Tabbar}();f.style="html,body{height:100%}#app{height:100%}.taro-tabbar__border-white::before{border-top-color:#fff !important}.taro-tabbar__container{display:flex;height:100%;flex-direction:column;overflow:hidden}.taro-tabbar__panel{flex:1;position:relative;overflow:auto;-webkit-overflow-scrolling:touch}.taro-tabbar__tabbar{position:relative;height:50px;width:100%;transition:bottom 0.2s, top 0.2s}.taro-tabbar__tabbar-top{top:0}.taro-tabbar__tabbar-bottom{bottom:0}.taro-tabbar__tabbar-hide{display:none}.taro-tabbar__tabbar-slideout{top:-52px;flex:0 0}.taro-tabbar__panel+.taro-tabbar__tabbar-slideout{top:auto;bottom:-52px}"},"92":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a(5);var n=function createCommonjsModule(e,t,a){return e(a={"path":t,"exports":{},"require":function require(e,t){return function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},a.exports),a.exports}((function(e){!function(){var t={}.hasOwnProperty;function classNames(){for(var e=[],a=0;a<arguments.length;a++){var n=arguments[a];if(n){var o=Object(r.a)(n);if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var i=classNames.apply(null,n);i&&e.push(i)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var s in n)t.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(classNames.default=classNames,e.exports=classNames):window.classNames=classNames}()}))}}]);
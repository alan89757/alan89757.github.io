(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{"69":function(t,e,n){"use strict";n.r(e),n.d(e,"taro_input_core",(function(){return u}));var i=n(2),o=n(4),s=n(28);function getTrueType(t,e,n){if(void 0===t)return"text";if(!t)throw new Error("unexpected type");return"search"===e&&(t="search"),n&&(t="password"),"digit"===t&&(t="number"),t}function fixControlledValue(t){return null!=t?t:""}var u=function(){function Input(t){var e=this;Object(i.a)(this,Input),Object(s.g)(this,t),this.onInput=Object(s.c)(this,"input",7),this.onFocus=Object(s.c)(this,"focus",7),this.onBlur=Object(s.c)(this,"blur",7),this.onConfirm=Object(s.c)(this,"confirm",7),this.onChange=Object(s.c)(this,"change",7),this.onKeyDown=Object(s.c)(this,"keydown",7),this.isOnComposition=!1,this.onInputExcuted=!1,this.type=void 0,this.password=!1,this.disabled=!1,this.maxlength=140,this.autoFocus=!1,this.confirmType="done",this.handleInput=function(t){t.stopPropagation();var n=e.type,i=e.maxlength,o=e.confirmType,s=e.password;if(!e.isOnComposition&&!e.onInputExcuted){var u=t.target.value,a=getTrueType(n,o,s);e.onInputExcuted=!0,"number"===a&&u&&i<=u.length&&(u=u.substring(0,i),t.target.value=u),e.onInput.emit({"value":u,"cursor":u.length})}},this.handleFocus=function(t){e.onInputExcuted=!1,e.onFocus.emit({"value":t.target.value})},this.handleBlur=function(t){e.onBlur.emit({"value":t.target.value})},this.handleChange=function(t){t.stopPropagation(),e.onChange.emit({"value":t.target.value})},this.handleKeyDown=function(t){var n=t.target.value;e.onInputExcuted=!1,t.stopPropagation(),e.onKeyDown.emit({"value":n}),13===t.keyCode&&e.onConfirm.emit({"value":n})},this.handleComposition=function(t){t.target instanceof HTMLInputElement&&("compositionend"===t.type?(e.isOnComposition=!1,e.onInput.emit({"value":t.target.value})):e.isOnComposition=!0)}}return Object(o.a)(Input,[{"key":"componentDidLoad","value":function componentDidLoad(){var t=this;"file"===this.type?(this.fileListener=function(){t.onInput.emit()},this.inputRef.addEventListener("change",this.fileListener)):(this.inputRef.addEventListener("compositionstart",this.handleComposition),this.inputRef.addEventListener("compositionend",this.handleComposition)),Object.defineProperty(this.el,"value",{"get":function get(){return t.inputRef.value},"set":function set(e){return t.value=e},"configurable":!0})}},{"key":"disconnectedCallback","value":function disconnectedCallback(){"file"===this.type&&this.inputRef.removeEventListener("change",this.fileListener)}},{"key":"render","value":function render(){var t=this,e=this.value,n=this.type,i=this.password,o=this.placeholder,u=this.disabled,a=this.maxlength,r=this.autoFocus,h=this.confirmType,c=this.name;return Object(s.e)("input",{"ref":function ref(e){t.inputRef=e,r&&(null==e||e.focus())},"class":"weui-input","value":fixControlledValue(e),"type":getTrueType(n,h,i),"placeholder":o,"disabled":u,"maxlength":a,"autofocus":r,"name":c,"onInput":this.handleInput,"onFocus":this.handleFocus,"onBlur":this.handleBlur,"onChange":this.handleChange,"onKeyDown":this.handleKeyDown})}},{"key":"el","get":function get(){return Object(s.d)(this)}}]),Input}();u.style="taro-input-core{display:block}input{display:block;height:1.4rem;text-align:inherit;text-overflow:clip;overflow:hidden;white-space:nowrap}"}}]);